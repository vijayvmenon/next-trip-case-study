(this["webpackJsonpnext-trip-case-study"]=this["webpackJsonpnext-trip-case-study"]||[]).push([[0],{13:function(e){e.exports=JSON.parse('{"FOOTER_TEXT_1":"Metro Transit is a service of the Metropolitan Council,","FOOTER_TEXT_2":"Minneapolis/St. Paul, MN","APP_HEADER":"Real-time Departures","BY_ROUTE":"By route","BY_STOP":"By stop #","DUE":"Due","ENTER_STOP_NUMBER":"Enter stop number","SELECT_ROUTE":"Select route","SELECT_DIRECTION":"Select direction","SELECT_STOP":"Select stop","STOP_HASH":"Stop # : ","STOP_CLOSED":"Stop closed","NOT_VALID_STOP":"is not a valid stop number.","ROUTE":"Route","DIRECTION":"Direction","STOP":"Stop","DEPARTS":"Departs","DESTINATION":"Destination","SHOW_MORE":"Show more","SHOW_LESS":"Show less","SEARCH_STOPS":"Search stops","PAGE_NOT_FOUND_1":"The page you requested could not be found.","PAGE_NOT_FOUND_2":"Please go back or press the button below to go to the homepage","GO_HOME":"Go home","SNACKBAR_STOP_ERROR":"Error fetching Departures. Please try after some time","LANGUAGE":"Language","NO_DEPARTURE_ROUTE":"No Departures found for given search parameters","ERROR_FETCHING":"Error fetching ","DEPARTURES":"Departures","PLEASE_TRY_AGAIN":"Please try after some time.","NOT_VALID_SEARCH":"Not a valid search parameter"}')},20:function(e){e.exports=JSON.parse('{"FOOTER_TEXT_1":"Metro Transit es un servicio del Consejo Metropolitano","FOOTER_TEXT_2":"Minneapolis / St. Paul, MN","APP_HEADER":"Salidas en tiempo real","BY_ROUTE":"Por ruta","BY_STOP":"Por parada #","DUE":"Due","ENTER_STOP_NUMBER":"Ingrese el n\xfamero de parada","SELECT_ROUTE":"Seleccionar ruta","SELECT_DIRECTION":"Seleccionar direcci\xf3n","SELECT_STOP":"Seleccionar parada","STOP_HASH":"Detener  #:","STOP_CLOSED":"Parada cerrada","NOT_VALID_STOP":"no es un n\xfamero de parada v\xe1lido","ROUTE":"Ruta","DIRECTION":"Direcci\xf3n","DEPARTS":"Salida","DESTINATION":"Destino","STOP":"Detener","SHOW_MORE":"Mostrar m\xe1s","SHOW_LESS":"Mostrar menos","SEARCH_STOPS":"La b\xfasqueda se detiene","PAGE_NOT_FOUND_1":"No se pudo encontrar la p\xe1gina solicitada.","PAGE_NOT_FOUND_2":"Regrese o presione el bot\xf3n de abajo para ir a la p\xe1gina de inicio","GO_HOME":"Vete a casa","SNACKBAR_STOP_ERROR":"Error al obtener las salidas. Int\xe9ntalo m\xe1s tarde","LANGUAGE":"Idioma","NO_DEPARTURE_ROUTE":"No se encontraron salidas para los par\xe1metros de b\xfasqueda dados","ERROR_FETCHING":"Error al recuperar","DEPARTURES":"Salidas","PLEASE_TRY_AGAIN":"Int\xe9ntelo despu\xe9s de un tiempo","NOT_VALID_SEARCH":"No es un par\xe1metro de b\xfasqueda v\xe1lido"}')},25:function(e,t,n){},35:function(e,t,n){"use strict";n.r(t);var r,a,o=n(1),i=n.n(o),l=n(18),c=n.n(l),s=(n(25),n(2)),d=n(3),u=n(4),m=["title","titleId"];function p(){return(p=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function b(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function O(e,t){var n=e.title,i=e.titleId,l=b(e,m);return o.createElement("svg",p({xmlns:"http://www.w3.org/2000/svg",width:14,height:14,viewBox:"0 0 16 16",ref:t,"aria-labelledby":i},l),void 0===n?o.createElement("title",{id:i},"broadcast-blue"):n?o.createElement("title",{id:i},n):null,r||(r=o.createElement("path",{fill:"#0053a0",d:"M15.969 6.851c-0.023-0.276-0.146-0.546-0.366-0.751-0.003-0.003-0.006-0.006-0.010-0.009l0 0c-0.001-0.001-0.003-0.003-0.004-0.004-0.224-0.209-0.507-0.314-0.79-0.318l0.001 0c-2.366-0.090-4.742 0.805-6.473 2.661-1.709 1.833-2.44 4.227-2.214 6.539l0.001 0.012c0.029 0.277 0.155 0.547 0.377 0.754 0.224 0.209 0.507 0.316 0.792 0.324l-0.002-0c0.269 0.011 0.54-0.091 0.737-0.302 0.194-0.208 0.277-0.481 0.251-0.744l-0-0.001c-0.173-1.797 0.393-3.648 1.715-5.066 1.34-1.437 3.178-2.13 4.999-2.062l0.011 0.001c0.265 0.009 0.531-0.092 0.725-0.3 0.191-0.205 0.274-0.472 0.25-0.731l-0-0.001z"})),a||(a=o.createElement("path",{fill:"#0053a0",d:"M2.518 14.954c-0.125-3.229 1.016-6.496 3.435-8.999 2.453-2.537 5.735-3.788 9.006-3.737l0.009 0c0.267 0.004 0.534-0.098 0.734-0.305 0.198-0.205 0.291-0.472 0.28-0.735l-0-0.001c-0.013-0.269-0.125-0.534-0.334-0.736-0.212-0.205-0.486-0.308-0.759-0.309h0.001c-3.81-0.060-7.623 1.392-10.472 4.34-2.811 2.908-4.135 6.704-3.989 10.45l0 0.007c0.023 0.251 0.134 0.496 0.33 0.686 0.208 0.201 0.476 0.304 0.744 0.309l-0.001-0c0.268 0.007 0.538-0.094 0.738-0.301 0.181-0.188 0.274-0.428 0.278-0.67l-0 0.001z"})))}var f=o.forwardRef(O),x=(n.p,n(0)),h=Object(s.a)({root:{position:"relative",display:"flex","@media(min-width: 768px)":{justifyContent:"flex-end"},alignItems:"center"},blinker:{paddingRight:3,animationName:"$blinker",animationDuration:"1s",animationTimingFunction:"cubic-bezier(.5, 0, 1, 1)",animationDirection:"alternate",animationIterationCount:"infinite"},"@keyframes blinker":{to:{opacity:0}}});function j(e){var t=e.value,n=e.row,r=h();return Object(x.jsxs)("div",{className:r.root,children:[n.actual&&Object(x.jsx)(f,{"data-testid":"broadcast-svg",className:r.blinker}),Object(x.jsx)("div",{children:t})]})}var v,g,E,S=n(13),T=n(20),w="#626462",R="#ffffff",N="#f5f5f5",y="#39b4ed",_="#0071DE",A="#8B728E",I="#FFF4E4",C="#3D52D5",P="#07A0C3",D={HEADER_TEXT:"Minneapolis Metro Transit",FOOTER_TEXT_3:"\xa9 ".concat((new Date).getFullYear()," Metro Transit"),APP_HEADER:"Real-time Departures",BY_ROUTE:"By route",BY_STOP:"By stop #",DUE:"Due",ENTER_STOP_NUMBER:"Enter stop number",SELECT_ROUTE:"Select route",SELECT_DIRECTION:"Select direction",SELECT_STOP:"Select stop",STOP_HASH:"Stop # : ",STOP_CLOSED:"Stop closed",NOT_VALID_STOP:"is not a valid stop number",ROUTE:"Route",DIRECTION:"Direction",STOP:"Stop",TABLE_COLUMNS:[{id:"route_short_name",value:"ROUTE",textAlign:"left"},{id:"description",value:"DESTINATION",textAlign:"left"},{id:"departure_text",value:"DEPARTS",textAlign:"right",formatter:function(e,t){return Object(x.jsx)(j,{value:e,row:t})}}],get SELECT_FIELDS(){return[{label:"SELECT_ROUTE",labelSelected:"ROUTE",options:[],idField:"route_id",valueField:"route_label"},{label:"SELECT_DIRECTION",labelSelected:"DIRECTION",options:void 0,idField:"direction_id",valueField:"direction_name"},{label:"SELECT_STOP",labelSelected:"STOP",options:void 0,idField:"place_code",valueField:"description"}]},LANGUAGE_SELECT:{label:"Select Language",labelSelected:"LANGUAGE",options:[{id:"en",label:"English"},{id:"es",label:"Spanish"}],idField:"id",valueField:"label"},INTERVAL_FREQUENCY:45e3,SHOW_MORE:"Show more",SHOW_LESS:"Show less",SEARCH_STOPS:"Search stops",http:{BASE_URL:"https://svc.metrotransit.org/nextripv2",BASE_URL_LOCAL:"http://localhost:3002",ROUTE:"routes",DIRECTIONS:"directions",STOPS:"stops",VEHICLES:"vehicles"},PAGE_NOT_FOUND_1:"The page you requested could not be found.",PAGE_NOT_FOUND_2:"Please go back or press the button below to go to the homepage",get NAVIGATION_OPTIONS(){return[{name:"BY_ROUTE",hrefLink:"/byRoute"},{name:"BY_STOP",hrefLink:"/byStop"}]},GO_HOME:"Go home",SNACKBAR_TIMEOUT:5e3,LANGUAGE_MAPPING:{en:S,es:T}},L=["title","titleId"];function k(){return(k=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function F(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function B(e,t){var n=e.title,r=e.titleId,a=F(e,L);return o.createElement("svg",k({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 40 40",ref:t,"aria-labelledby":r},a),n?o.createElement("title",{id:r},n):null,v||(v=o.createElement("defs",{xmlns:"http://www.w3.org/2000/svg"},o.createElement("style",null,".a{fill:#e50020}.c{fill:#004290}"))),g||(g=o.createElement("path",{xmlns:"http://www.w3.org/2000/svg",className:"a",d:"M18.373 0a18.256 18.256 0 1 0 18.138 18.256A18.256 18.256 0 0 0 18.373 0z"})),E||(E=o.createElement("path",{xmlns:"http://www.w3.org/2000/svg",d:"M30.895 15.681h-9.362v15.915h-6.549V15.681h-9.6V9.128h25.511v6.553z",fill:"#fff"})))}var H=o.forwardRef(B),U=(n.p,n(5)),G=n(6),z=n.n(G),M=n(8);function W(e){return V.apply(this,arguments)}function V(){return(V=Object(M.a)(z.a.mark((function e(t){var n,r,a,o,i;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return e.prev=0,e.next=3,fetch("".concat(D.http.BASE_URL,"/").concat(t),{header:{Accept:"application/json"}});case 3:if((a=e.sent).ok){e.next=10;break}return e.next=7,a.json();case 7:throw o=e.sent,console.log(o),o;case 10:return e.next=12,a.json();case 12:i=e.sent,n=i,e.next=20;break;case 16:e.prev=16,e.t0=e.catch(0),console.log(e.t0),r=400===(null===e.t0||void 0===e.t0?void 0:e.t0.status)&&(null===e.t0||void 0===e.t0?void 0:e.t0.title)&&(null===e.t0||void 0===e.t0?void 0:e.t0.type)?"warning":e.t0;case 20:return e.abrupt("return",[n,r]);case 21:case"end":return e.stop()}}),e,null,[[0,16]])})))).apply(this,arguments)}function K(e){return e.map((function(e){return e.param})).join("/")}function Y(e){var t=!1,n=e.split("/");if(-1!==e.indexOf("byRoute")&&5===n.length){var r=Number(n[2]),a=!Number.isNaN(r)&&r>=0&&r<1e3,o=Number(n[3]),i=!Number.isNaN(o)&&o>=0&&o<10,l=/^[a-z0-9]/i.test(n[4])&&n[4].toString().length>=1&&n[4].toString().length<=4;a&&i&&l&&(t=!0)}return t&&(t=n.slice(2).join("/")),t}function X(){return!0===function(){var e="test";try{return localStorage.setItem(e,e),localStorage.removeItem(e),!0}catch(t){return!1}}()}var q=X&&localStorage.getItem("LANGUAGE"),J={tableExpanded:!1,hideHeader:!1,snackbar:{value:"",text:""},language:q||"en",translations:q?D.LANGUAGE_MAPPING[q]:S};function $(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:J,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case"TABLE_EXPAND":return Object(U.a)(Object(U.a)({},e),{},{tableExpanded:!0});case"TABLE_COLLAPSE":return Object(U.a)(Object(U.a)({},e),{},{tableExpanded:!1});case"SET_SNACKBAR":return Object(U.a)(Object(U.a)({},e),{},{snackbar:{value:t.value,text:t.text}});case"HIDE_HEADER":return Object(U.a)(Object(U.a)({},e),{},{hideHeader:!0});case"SHOW_HEADER":return Object(U.a)(Object(U.a)({},e),{},{hideHeader:!1});case"SET_LANGUAGE":return Object(U.a)(Object(U.a)({},e),{},{language:t.value,translations:D.LANGUAGE_MAPPING[t.value]});default:return Object(U.a)({},e)}}var Q=Object(o.createContext)();var Z=function(e){var t=e.children,n=Object(o.useReducer)($,J),r=Object(d.a)(n,2),a=r[0],i=r[1];return Object(x.jsx)(Q.Provider,{value:{state:a,dispatch:i},children:t})},ee=n(14),te=n.p+"static/media/dropdown.27fbf637.svg",ne=Object(s.a)({root:{position:"relative",marginTop:24,"@media(max-width:640px)":{margin:"24px 3rem 0px 3rem"}},rootLanguage:{position:"relative",width:150},selected:{padding:"12px 10px 0px 8px","&:focus":{borderColor:_,borderWidth:2,backgroundPosition:"top 5px right 3px",padding:"12px 10px 0px 7px",extend:"selectFocus"}},languageSelected:{padding:"0px 10px 0px 8px","&:focus":{outline:"none"}},notSelected:{padding:"2px 10px 0px 5px","&:focus":{borderColor:_,borderWidth:2,backgroundPosition:"top 5px right 3px",padding:"2px 10px 0px 4px",extend:"selectFocus"}},selectFocus:{outline:"none",borderRadius:10},selectRoot:{fontSize:18,borderRadius:10,appearance:"none",backgroundImage:"url(".concat(te,")"),background:"transparent",backgroundRepeat:"no-repeat",display:"block",width:"100%",color:A,border:"1px solid #757575","&:focus ~ label":{top:5,left:9,fontSize:"0.8rem",color:"#4285f4"}},select:{extend:"selectRoot",backgroundPosition:"top 6px right 4px",height:56},languageSelect:{extend:"selectRoot",backgroundPosition:"top 0px right 4px",height:40},label:{color:"#999",paddingBottom:10,fontSize:"0.8rem",fontWeight:"normal",position:"absolute",pointerEvents:"none",left:9,top:5,transition:"0.2s ease all"},selectedOption:{background:N}});function re(e){var t=e.onSearch,n=e.label,r=e.labelSelected,a=e.options,i=void 0===a?[]:a,l=e.idField,c=e.valueField,s=e.selectedValue,d=e.languageDropdown,u=ne(),m=Object(o.useContext)(Q).state,p=(m=void 0===m?{}:m).translations,b=void 0===p?{}:p,O=Object(ee.useMediaPredicate)("(min-width: 768px)");return Object(x.jsxs)("div",{className:d?u.rootLanguage:u.root,children:[Object(x.jsxs)("select",{className:"".concat(d&&!O?u.languageSelect:u.select," ").concat(s!==n&&d&&!O?u.languageSelected:s!==n?u.selected:u.notSelected),onChange:function(e){t(i.find((function(t){return t[l].toString()===e.target.value.toString()})),r,l)},value:s,"data-testid":"custom-select-".concat(l),children:[Object(x.jsx)("option",{"data-testid":"option-default-".concat(l),value:n,disabled:!0,hidden:i.length>0,children:b[n]}),i.map((function(e){return Object(x.jsx)("option",{value:e[l],className:e[l]===s?u.selectedOption:void 0,"data-testid":"option-".concat(e[l],"-").concat(l),children:e[c]},e[l])}))]}),s!==n&&!d||d&&O?Object(x.jsx)("label",{htmlFor:n,className:u.label,children:b[r]}):null]})}re.defaultProps={languageDropdown:!1};var ae=D.LANGUAGE_SELECT,oe=Object(s.a)({root:{background:"white",borderRadius:10,marginLeft:"auto",marginRight:"1rem"}});function ie(){var e=oe(),t=Object(o.useContext)(Q),n=t.dispatch,r=t.state,a=(r=void 0===r?{}:r).language,i=void 0===a?"en":a,l=Object(u.d)();Object(d.a)(l,2)[1];return Object(x.jsx)("div",{className:e.root,children:Object(x.jsx)(re,{label:ae.label,onSearch:function(e,t,r){X&&localStorage.setItem("LANGUAGE",e[r]),n({type:"SET_LANGUAGE",value:e[r]})},options:ae.options,labelSelected:ae.labelSelected,idField:ae.idField,valueField:ae.valueField,selectedValue:i,languageDropdown:!0})})}var le=Object(s.a)({headerRoot:{background:_,height:40,display:"flex",alignItems:"center",justifyContent:"flex-start",padding:[[16,0,16,12]]},headerText:{color:R,"@media(max-width:460px)":{fontSize:"1.2rem"}},appLogo:{width:40,height:40,paddingRight:8,cursor:"pointer","@media(max-width:460px)":{width:30,height:30}}});function ce(){var e=le(),t=Object(u.d)(),n=Object(d.a)(t,2)[1];return Object(x.jsxs)("header",{className:e.headerRoot,children:[Object(x.jsx)(H,{onClick:function(){return n("/")},className:e.appLogo}),Object(x.jsx)("h1",{className:e.headerText,children:D.HEADER_TEXT}),Object(x.jsx)(ie,{})]})}var se=Object(s.a)({footerRoot:{background:N,display:"flex",alignItems:"center",justifyContent:"space-between",padding:"0.875rem 1.6rem"},footerText:{fontSize:"0.875rem",color:w,lineHeight:"20px","@media(max-width:600px)":{fontSize:"0.7rem"},marginRight:"2rem"},copyRightText:{fontSize:"0.875rem",color:w,lineHeight:"20px",textAlign:"center","@media(max-width:600px)":{fontSize:"0.7rem"}}});function de(){var e=se(),t=Object(o.useContext)(Q).state,n=(t=void 0===t?{}:t).translations,r=void 0===n?{}:n;return Object(x.jsxs)("footer",{className:e.footerRoot,children:[Object(x.jsxs)("div",{className:e.footerText,children:[r.FOOTER_TEXT_1,r.FOOTER_TEXT_2]}),Object(x.jsx)("div",{className:e.copyRightText,children:D.FOOTER_TEXT_3})]})}var ue=Object(s.a)({linkButtonRoot:{textDecoration:"none",padding:16,background:N,color:y,display:"flex",alignItems:"center",justifyContent:"center",fontSize:"1.5rem",fontWeight:500,position:"relative"},linkActive:{background:_,color:R,borderRadius:5,zIndex:1,boxShadow:"0px -2px 5px -3px #0E0E0E, \n    -2px 0px 5px -3px #0E0E0E, \n    2px 0px 5px -3px #0E0E0E, \n    0px 2px 5px -3px #0E0E0E","&:after":{content:'""',display:"block",width:0,height:0,position:"absolute",borderTop:"12px solid #0071DE",borderLeft:"12px solid transparent",borderRight:"12px solid transparent",left:"45%",bottom:"-8px",filter:"drop-shadow(1px 3px 1px rgb(0,0,0,0.2))",zIndex:1}}});function me(e){var t=e.name,n=e.hrefLink,r=ue(),a=Object(u.d)(),o=-1!==Object(d.a)(a,1)[0].indexOf(n);return Object(x.jsx)(u.a,{className:"".concat(r.linkButtonRoot," ").concat(o?r.linkActive:void 0),href:n,"data-testid":o?"custom-anchor-".concat(t,"-active"):"custom-anchor-".concat(t),children:t})}me.defaultProps={name:""};var pe=Object(s.a)({root:{display:"flex",justifyContent:"center",position:"relative"}});function be(e){var t=e.options,n=pe(),r=Object(o.useContext)(Q).state,a=(r=void 0===r?{}:r).translations,i=void 0===a?{}:a;return Object(x.jsx)("nav",{className:n.root,children:t.map((function(e){return Object(x.jsx)(me,{name:i[e.name],hrefLink:e.hrefLink},e.name)}))})}var Oe=Object(s.a)({root:{display:"flex",flexDirection:"column",padding:"0px 16px","@media(min-width: 768px)":{flexDirection:"row",background:I,color:A},flexWrap:"wrap",background:P,justifyContent:"space-between",borderTopLeftRadius:10,borderTopRightRadius:10,color:R},stopId:{display:"flex",alignItems:"center"},headerText:{margin:"8px 0px","@media(min-width: 768px)":{margin:"1rem 0rem"}},stopIdText:{fontWeight:"bold"},stopText:{margin:"8px 0px","@media(min-width: 768px)":{margin:"1rem"}}});function fe(e){var t=e.headerText,n=e.stopId,r=Oe(),a=Object(o.useContext)(Q).state,i=(a=void 0===a?{}:a).translations,l=void 0===i?{}:i;return Object(x.jsxs)("div",{className:r.root,children:[Object(x.jsx)("h3",{className:r.headerText,children:t}),Object(x.jsxs)("div",{className:r.stopId,children:[Object(x.jsx)("div",{className:r.stopIdText,children:l.STOP_HASH}),Object(x.jsx)("p",{className:r.stopText,children:n})]})]})}fe.defaultProps={stopId:0,headerText:""};var xe=Object(s.a)({header:{background:P,color:R,padding:12,lineHeight:"1.5rem",letterSpacing:3}});function he(e){var t=e.columns,n=e.normalTable,r=xe(),a=Object(o.useContext)(Q).state,i=(a=void 0===a?{}:a).translations,l=void 0===i?{}:i;return n?Object(x.jsx)("thead",{className:r.header,children:Object(x.jsx)("tr",{children:t.map((function(e){return Object(x.jsx)("th",{className:r.header,style:{textAlign:null===e||void 0===e?void 0:e.textAlign},children:l[e.value]},e.id)}))})}):null}var je,ve=n(15),ge=n(9),Ee=n.n(ge),Se=["title","titleId"];function Te(){return(Te=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function we(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Re(e,t){var n=e.title,r=e.titleId,a=we(e,Se);return o.createElement("svg",Te({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",ref:t,"aria-labelledby":r},a),n?o.createElement("title",{id:r},n):null,je||(je=o.createElement("path",{d:"M7 11v2h10v-2H7zm5-9C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})))}var Ne=o.forwardRef(Re),ye=(n.p,Object(s.a)({tableCell:{padding:16,color:A,fontWeight:"bold",fontSize:"1.1rem"},tableCellDescription:{padding:16,color:A,fontSize:"1.1rem"}}));function _e(e){var t=e.columns,n=e.rowValue,r=ye();return t.map((function(e){return Object(x.jsx)("td",{className:"description"===e.id?r.tableCellDescription:r.tableCell,style:{textAlign:e.textAlign},children:(null===e||void 0===e?void 0:e.formatter)?e.formatter(null===n||void 0===n?void 0:n[e.id],n):n[null===e||void 0===e?void 0:e.id]},Ee()())}))}var Ae=Object(s.a)({stackedRoot:{display:"flex",alignItems:"center",padding:8,justifyContent:"space-between",marginTop:-10,marginBottom:-10,"@media(max-width: 500px)":{flexWrap:"wrap",padding:"12px 8px"}},label:{color:A,lineHeight:"1.5rem",letterSpacing:3,marginRight:"1rem",flexShrink:0,"@media(max-width: 500px)":{marginRight:"100rem"},width:"35%"},tableCellText:{color:A,fontWeight:"bold",fontSize:"1.1rem",margin:0,flexGrow:1},tableTd:{padding:"0.875rem",width:"100%"}});function Ie(e){var t=e.columns,n=e.rowValue,r=Ae(),a=Object(o.useContext)(Q).state,i=(a=void 0===a?{}:a).translations,l=void 0===i?{}:i;return Object(x.jsx)("td",{className:r.tableTd,children:t.map((function(e){return Object(x.jsxs)("div",{className:r.stackedRoot,children:[Object(x.jsx)("label",{className:r.label,htmlFor:null===e||void 0===e?void 0:e.id,children:l[e.value]}),Object(x.jsx)("p",{className:r.tableCellText,id:null===e||void 0===e?void 0:e.id,children:(null===e||void 0===e?void 0:e.formatter)?e.formatter(null===n||void 0===n?void 0:n[e.id],n):n[null===e||void 0===e?void 0:e.id]})]},Ee()())}))})}var Ce,Pe=Object(s.a)({tableRow:{borderTop:"1px solid black"},icon:{widht:32,height:32,color:C},collapseIcon:{extend:"icon"},clickable:{cursor:"pointer"},iconWithText:{paddingLeft:8,display:"flex",alignItems:"center"},iconText:{paddingLeft:8,fontWeight:500,fontSize:"1rem",color:A}});function De(e){var t=e.tableExpanded,n=e.rowsToHide,r=e.columns,a=e.click,i=e.normalTable,l=Pe(),c=Object(o.useContext)(Q).state,s=(c=void 0===c?{}:c).translations,d=void 0===s?{}:s;return Object(x.jsxs)(x.Fragment,{children:[t&&n.length>0&&Object(x.jsx)(x.Fragment,{children:n.map((function(e){return Object(x.jsx)("tr",{className:l.tableRow,children:i?Object(x.jsx)(_e,{columns:r,rowValue:e}):Object(x.jsx)(Ie,{columns:r,rowValue:e})},Ee()())}))}),t&&n.length>0&&Object(x.jsx)("tr",{className:Object(ve.a)(l.tableRow,l.clickable),children:Object(x.jsx)("td",{colSpan:r.length,children:Object(x.jsxs)("div",{role:"button",tabIndex:"0",className:l.iconWithText,onClick:a,children:[Object(x.jsx)(Ne,{className:l.collapseIcon}),Object(x.jsx)("p",{className:l.iconText,children:d.SHOW_LESS})]})})})]})}var Le=["title","titleId"];function ke(){return(ke=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Fe(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Be(e,t){var n=e.title,r=e.titleId,a=Fe(e,Le);return o.createElement("svg",ke({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",ref:t,"aria-labelledby":r},a),n?o.createElement("title",{id:r},n):null,Ce||(Ce=o.createElement("path",{d:"M13 7h-2v4H7v2h4v4h2v-4h4v-2h-4V7zm-1-5C6.48 2 2 6.48 2 12s4.48 10 10 10 10-4.48 10-10S17.52 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})))}var He,Ue=o.forwardRef(Be),Ge=(n.p,Object(s.a)({tableRow:{borderTop:"1px solid black"},icon:{widht:32,height:32,color:C},expandIcon:{extend:"icon"},clickable:{cursor:"pointer"},iconWithText:{paddingLeft:8,display:"flex",alignItems:"center"},iconText:{paddingLeft:8,fontWeight:500,fontSize:"1rem",color:A}}));function ze(e){var t=e.rowsToShow,n=e.columns,r=e.tableExpanded,a=e.rowsToHide,i=e.click,l=e.normalTable,c=Ge(),s=Object(o.useContext)(Q).state,d=(s=void 0===s?{}:s).translations,u=void 0===d?{}:d;return Object(x.jsxs)(x.Fragment,{children:[t.map((function(e){return Object(x.jsx)("tr",{className:c.tableRow,children:l?Object(x.jsx)(_e,{columns:n,rowValue:e}):Object(x.jsx)(Ie,{columns:n,rowValue:e})},Ee()())})),!r&&a.length>0&&Object(x.jsx)("tr",{className:Object(ve.a)(c.tableRow,c.clickable),children:Object(x.jsx)("td",{colSpan:n.length,children:Object(x.jsxs)("div",{role:"button",tabIndex:"0",className:c.iconWithText,onClick:i,"data-testid":"table-expand-icon",children:[Object(x.jsx)(Ue,{className:c.expandIcon}),Object(x.jsx)("p",{className:c.iconText,children:u.SHOW_MORE})]})})})]})}var Me=["title","titleId"];function We(){return(We=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function Ve(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function Ke(e,t){var n=e.title,r=e.titleId,a=Ve(e,Me);return o.createElement("svg",We({xmlns:"http://www.w3.org/2000/svg",fill:"currentColor",focusable:"false",viewBox:"0 0 24 24","aria-hidden":"true",ref:t,"aria-labelledby":r},a),n?o.createElement("title",{id:r},n):null,He||(He=o.createElement("path",{d:"M14.59 8L12 10.59 9.41 8 8 9.41 10.59 12 8 14.59 9.41 16 12 13.41 14.59 16 16 14.59 13.41 12 16 9.41 14.59 8zM12 2C6.47 2 2 6.47 2 12s4.47 10 10 10 10-4.47 10-10S17.53 2 12 2zm0 18c-4.41 0-8-3.59-8-8s3.59-8 8-8 8 3.59 8 8-3.59 8-8 8z"})))}var Ye=o.forwardRef(Ke),Xe=(n.p,Object(s.a)({icon:{widht:32,height:32,color:C},closeIcon:{extend:"icon",color:A,cursor:"default"},noDataRow:{display:"flex",alignItems:"center",justifyContent:"center"},iconTextNoData:{paddingLeft:8,fontWeight:500,fontSize:"1.2rem",letterSpacing:2,color:A}}));function qe(e){var t=e.rows,n=e.columns,r=Xe(),a=Object(o.useContext)(Q).state,i=(a=void 0===a?{}:a).translations,l=void 0===i?{}:i;return 0===t.length&&Object(x.jsx)("tr",{children:Object(x.jsx)("td",{colSpan:n.length,children:Object(x.jsxs)("div",{className:r.noDataRow,"data-testid":"no-data-in-table",children:[Object(x.jsx)(Ye,{className:r.closeIcon}),Object(x.jsx)("p",{className:r.iconTextNoData,children:l.STOP_CLOSED})]})})})}var Je=Object(s.a)({tableContainer:{"@media(min-width:1200px)":{width:1140},"@media(max-width:1200px)":{width:800},"@media(max-width:900px)":{width:"auto"},"@media(max-width:768px)":{width:"auto"}},root:{tableLayout:"fixed",width:"100%",borderSpacing:0,boxSizing:"border-box",borderCollapse:"collapse",background:I}});function $e(e){var t=e.rows,n=e.columns,r=Je(),a=Object(ee.useMediaPredicate)("(min-width: 768px)"),i=Object(o.useContext)(Q),l=i.state,c=(l=void 0===l?{}:l).tableExpanded,s=void 0!==c&&c,d=i.dispatch,u=t.length>5?t.slice(0,5):t,m=t.length>5?t.slice(5):[];return Object(x.jsx)("div",{className:r.tableContainer,children:Object(x.jsxs)("table",{className:r.root,children:[Object(x.jsx)(he,{columns:n,normalTable:a}),Object(x.jsxs)("tbody",{children:[Object(x.jsx)(qe,{rows:t,columns:n}),Object(x.jsx)(ze,{rowsToShow:u,columns:n,click:function(){return d({type:"TABLE_EXPAND"})},rowsToHide:m,tableExpanded:s,normalTable:a}),Object(x.jsx)(De,{tableExpanded:s,rowsToHide:m,columns:n,click:function(){return d({type:"TABLE_COLLAPSE"})},normalTable:a})]})]})})}var Qe=Object(s.a)({loader:{color:_,fontSize:"0.75rem",margin:"100px auto",width:"1rem",height:"1rem",borderRadius:"50%",position:"absolute",left:"50%",animationName:"$load4",animationDuration:"1.3s",animationTimingFunction:"linear",animationIterationCount:"infinite",transform:"translateZ(0)"},"@-webkit-keyframes load4":{"0%,\n  100%":{boxShadow:"0 -3em 0 0.2em, 2em -2em 0 0em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 0"},"12.5%":{boxShadow:"0 -3em 0 0, 2em -2em 0 0.2em, 3em 0 0 0, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em"},"25%":{boxShadow:"0 -3em 0 -0.5em, 2em -2em 0 0, 3em 0 0 0.2em, 2em 2em 0 0, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em"},"37.5%":{boxShadow:"0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 0, 2em 2em 0 0.2em, 0 3em 0 0em, -2em 2em 0 -1em, -3em 0em 0 -1em, -2em -2em 0 -1em"},"50%":{boxShadow:"0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 0em, 0 3em 0 0.2em, -2em 2em 0 0, -3em 0em 0 -1em, -2em -2em 0 -1em"},"62.5%":{boxShadow:"0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 0, -2em 2em 0 0.2em, -3em 0 0 0, -2em -2em 0 -1em"},"75%":{boxShadow:"0em -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0.2em, -2em -2em 0 0"},"87.5%":{boxShadow:"0em -3em 0 0, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0, -2em -2em 0 0.2em"}},"@keyframes load4":{"0%,\n  100%":{boxShadow:"0 -3em 0 0.2em, 2em -2em 0 0em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 0"},"12.5%":{boxShadow:"0 -3em 0 0, 2em -2em 0 0.2em, 3em 0 0 0, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em"},"25%":{boxShadow:"0 -3em 0 -0.5em, 2em -2em 0 0, 3em 0 0 0.2em, 2em 2em 0 0, 0 3em 0 -1em, -2em 2em 0 -1em, -3em 0 0 -1em, -2em -2em 0 -1em"},"37.5%":{boxShadow:"0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 0, 2em 2em 0 0.2em, 0 3em 0 0em, -2em 2em 0 -1em, -3em 0em 0 -1em, -2em -2em 0 -1em"},"50%":{boxShadow:"0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 0em, 0 3em 0 0.2em, -2em 2em 0 0, -3em 0em 0 -1em, -2em -2em 0 -1em"},"62.5%":{boxShadow:"0 -3em 0 -1em, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 0, -2em 2em 0 0.2em, -3em 0 0 0, -2em -2em 0 -1em"},"75%":{boxShadow:"0em -3em 0 -1em, 2em -2em 0 -1em, 3em 0em 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0.2em, -2em -2em 0 0"},"87.5%":{boxShadow:"0em -3em 0 0, 2em -2em 0 -1em, 3em 0 0 -1em, 2em 2em 0 -1em, 0 3em 0 -1em, -2em 2em 0 0, -3em 0em 0 0, -2em -2em 0 0.2em"}}});function Ze(e){var t=e.top,n=Qe();return Object(x.jsx)("div",{className:n.loader,style:{top:t}})}Ze.defaultProps={top:"20%"};var et=Object(s.a)({tablePadding:{padding:"32px 8px",position:"relative","@media(min-width: 768px)":{padding:"32px 60px"}}});function tt(e){var t,n,r,a=e.tableData,i=void 0===a?"":a,l=e.rowField,c=e.tableHeaderField,s=e.interval,d=e.getTableData,u=e.loader,m=et(),p=D.TABLE_COLUMNS,b=null!==(t=null===i||void 0===i?void 0:i[l])&&void 0!==t?t:null,O=null!==(n=null===i||void 0===i||null===(r=i[c])||void 0===r?void 0:r[0])&&void 0!==n?n:{},f=O.description,h=O.stop_id,j=Object(o.useRef)(null);return Object(o.useEffect)((function(){null!==s&&(null!==i&&"on-search"===s&&(j.current=setInterval((function(){d("from-interval")}),D.INTERVAL_FREQUENCY)),null!==i||"on-search"!==s&&"dropdown-changed"!==s&&"error"!==s&&"reset"!==s||((null===j||void 0===j?void 0:j.current)&&clearInterval(j.current),j.current=null))}),[i,s]),Object(o.useEffect)((function(){return function(){clearInterval(j.current),j.current=null}}),[]),Object(x.jsxs)(x.Fragment,{children:[u&&Object(x.jsx)(Ze,{top:"20%"}),b&&Object(x.jsxs)("div",{className:m.tablePadding,children:[null!==c&&Object(x.jsx)(fe,{headerText:f,stopId:h}),Object(x.jsx)($e,{rows:b,columns:p})]})]})}tt.defaultProps={tableData:"",tableHeaderField:null,interval:null,getTableData:function(){},loader:!1};var nt,rt=i.a.memo(tt),at=["title","titleId"];function ot(){return(ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function it(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function lt(e,t){var n=e.title,r=e.titleId,a=it(e,at);return o.createElement("svg",ot({width:"1rem",height:"1rem",viewBox:"0 0 12 12",ref:t,"aria-labelledby":r},a),n?o.createElement("title",{id:r},n):null,nt||(nt=o.createElement("path",{fill:"currentColor",d:"M11.73 1.58L7.31 6l4.42 4.42-1.06 1.06-4.42-4.42-4.42 4.42-1.06-1.06L5.19 6 .77 1.58 1.83.52l4.42 4.42L10.67.52z",fillRule:"evenodd"})))}var ct=o.forwardRef(lt),st=(n.p,Object(s.a)({hidden:{display:"none"},root:{display:"flex",alignItems:"center",margin:8,position:"fixed",right:0,left:0,zIndex:1,transition:"opacity .15s,transform .15s",pointerEvents:"none",justifyContent:"center",bottom:8},wrapper:{color:"rgb(255, 255, 255)",fontSize:"1rem",display:"flex",alignItems:"center",justifyContent:"flex-start",borderRadius:4,minWidth:334,maxWidth:672,boxShadow:"0 3px 5px -1px rgb(0 0 0 / 20%), 0 6px 10px 0 rgb(0 0 0 / 14%), 0 1px 18px 0 rgb(0 0 0 / 12%)",fontWeight:400,letterSpacing:"1px",lineHeight:"20px",textAlign:"left"},error:{extend:"wrapper",backgroundColor:"rgb(244, 67, 54)"},warning:{extend:"wrapper",backgroundColor:"rgb(255, 152, 0)"},snackbarText:{flexGrow:1,padding:"14px 16px",margin:0,pointerEvents:"auto"},button:{color:"rgb(255, 255, 255)",fontSize:"1rem",flexShrink:0,boxSizing:"border-box",display:"flex",alignItems:"center",justifyContent:"center",width:36,height:36,padding:8,margin:"0 8px 0 0",cursor:"pointer",position:"relative",pointerEvents:"auto",WebkitTapHighlightColor:"transparent",outline:"none",backgroundColor:"transparent",border:"none"},icon:{width:"1rem",height:"1rem",color:R}}));function dt(){var e=st(),t=Object(o.useContext)(Q),n=t.dispatch,r=t.state,a=(r=void 0===r?{}:r).snackbar,i=(a=void 0===a?{}:a).value,l=void 0===i?"":i,c=a.text,s=void 0===c?"":c,m=Object(u.d)(),p=Object(d.a)(m,1)[0];return Object(o.useEffect)((function(){if(l){var e=setTimeout((function(){n({type:"SET_SNACKBAR",value:"",text:""})}),D.SNACKBAR_TIMEOUT);return function(){return clearTimeout(e)}}}),[n,l]),Object(o.useEffect)((function(){n({type:"SET_SNACKBAR",value:"",text:""})}),[n,p]),l&&Object(x.jsx)("div",{className:e.root,children:Object(x.jsxs)("div",{"data-testid":"custom-snackbar",className:"error"===l?e.error:e.warning,children:[Object(x.jsx)("div",{className:e.snackbarText,children:s}),Object(x.jsx)("button",{type:"button",onClick:function(){return n({type:"SET_SNACKBAR",value:""})},className:e.button,children:Object(x.jsx)(ct,{className:e.icon})})]})})}var ut,mt=Object(s.a)({root:{marginTop:24,width:"100%",position:"relative",maxWidth:570},tablePadding:{padding:"32px 60px"}});function pt(){var e=mt(),t=Object(o.useContext)(Q),n=t.dispatch,r=t.state,a=(r=void 0===r?{}:r).snackbar,i=(a=void 0===a?{}:a).value,l=void 0===i?"":i,c=a.text,s=void 0===c?"":c,m=r.translations,p=void 0===m?{}:m,b=D.http,O=D.SELECT_FIELDS,f=Object(o.useState)(O),h=Object(d.a)(f,2),j=h[0],v=h[1],g=Object(u.d)(),E=Object(d.a)(g,2),S=E[0],T=E[1],w=Object(o.useState)(!1),R=Object(d.a)(w,2),N=R[0],y=R[1],_=Object(o.useState)(!1),A=Object(d.a)(_,2),I=A[0],C=A[1],P=Object(o.useState)(""),L=Object(d.a)(P,2),k=L[0],F=L[1],B=Object(o.useState)([{id:"ROUTE",param:null,selected:"",active:!1},{id:"DIRECTION",param:null,selected:"",active:!1},{id:"STOP",param:null,selected:"",active:!1}]),H=Object(d.a)(B,2),G=H[0],V=H[1],X=Object(o.useState)(null),q=Object(d.a)(X,2),J=q[0],$=q[1],Z=Object(o.useState)("initial"),ee=Object(d.a)(Z,2),te=ee[0],ne=ee[1],ae=Object(o.useState)(!1),oe=Object(d.a)(ae,2),ie=oe[0],le=oe[1],ce=function(e,t,n){F(""),V(G.map((function(r){var a=r.selected;return r.id===t&&(a=e[n]),"ROUTE"!==t||"DIRECTION"!==r.id&&"STOP"!==r.id||(a=""),"DIRECTION"===t&&"STOP"===r.id&&(a=""),Object(U.a)(Object(U.a)({},r),{},{param:r.id===t?e[n]:r.param,selected:a,active:r.id===t})})))};function se(e,t){function n(n){return n.labelSelected===t?e:"STOP"!==n.labelSelected||"DIRECTION"!==t?n.options:void 0}v(j.map((function(e){return Object(U.a)(Object(U.a)({},e),{},{options:n(e)})})))}function de(e,t){return ue.apply(this,arguments)}function ue(){return(ue=Object(M.a)(z.a.mark((function e(t,r){var a,o,i,l;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return"table"===r?C(!0):y(!0),e.next=3,W(t);case 3:a=e.sent,o=Object(d.a)(a,2),i=o[0],l=o[1],i&&("table"===r?$(i):se(i,r)),l&&(ne("error"),"table"!==r&&se([],r),n("warning"===l?{type:"SET_SNACKBAR",value:"warning",text:p.NO_DEPARTURE_ROUTE}:{type:"SET_SNACKBAR",value:"error",text:"".concat(p.ERROR_FETCHING).concat("table"===r?p.DEPARTURES:r,". ").concat(p.PLEASE_TRY_AGAIN)})),y(!1),C(!1);case 11:case"end":return e.stop()}}),e)})))).apply(this,arguments)}function me(e,t){"on-search"===e&&$(null),ne(e),de(t||k||K(G),"table")}function pe(e){var t=G.find((function(t){return t.id===e.labelSelected})).selected;return""===t?e.label:t}return Object(o.useEffect)((function(){function e(){return(e=Object(M.a)(z.a.mark((function e(){var t,r;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(n({type:"SHOW_HEADER"}),t=G.find((function(e){return e.active})),r=Y(S),t){e.next=6;break}return e.next=6,de(b.ROUTE,"ROUTE");case 6:r?(F(r),me("on-search",r)):($(null),ne("reset"),"/byRoute"!==S&&n({type:"SET_SNACKBAR",value:"warning",text:p.NOT_VALID_SEARCH}));case 7:case"end":return e.stop()}}),e)})))).apply(this,arguments)}!function(){e.apply(this,arguments)}()}),[n,S]),Object(o.useEffect)((function(){if(G.find((function(e){return null!==e.param}))){var e=G.find((function(e){return e.active})),t=e.id,n=e.param;if(null!==J&&($(null),ne("dropdown-changed")),"ROUTE"===t)de("".concat(b.DIRECTIONS,"/").concat(n),"DIRECTION");else if("DIRECTION"===t){var r=G.find((function(e){return"ROUTE"===e.id})).param;de("".concat(b.STOPS,"/").concat(r,"/").concat(n),"STOP")}else{var a=K(G);T("/byRoute/".concat(a))}}}),[G]),Object(o.useEffect)((function(){return window.addEventListener("popstate",Object(M.a)(z.a.mark((function e(){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:ie||le(!0);case 1:case"end":return e.stop()}}),e)})))),ie&&(v(j.map((function(e){return Object(U.a)(Object(U.a)({},e),{},{options:"ROUTE"!==e.labelSelected?void 0:e.options})}))),le(!1)),function(){return window.removeEventListener("popstate",{})}}),[ie]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(dt,{type:l,text:s}),Object(x.jsxs)("form",{className:e.root,action:"",children:[N&&Object(x.jsx)(Ze,{top:"20%"}),j.filter((function(e){return void 0!==e.options})).map((function(e){return Object(x.jsx)(re,{label:e.label,onSearch:ce,options:e.options,labelSelected:e.labelSelected,idField:e.idField,valueField:e.valueField,selectedValue:pe(e)},e.label)}))]}),Object(x.jsx)(rt,{tableData:J,rowField:"departures",tableHeaderField:"stops",interval:te,getTableData:me,setIntrvl:function(e){return ne(e)},loader:I})]})}var bt=["title","titleId"];function Ot(){return(Ot=Object.assign||function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(e[r]=n[r])}return e}).apply(this,arguments)}function ft(e,t){if(null==e)return{};var n,r,a=function(e,t){if(null==e)return{};var n,r,a={},o=Object.keys(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||(a[n]=e[n]);return a}(e,t);if(Object.getOwnPropertySymbols){var o=Object.getOwnPropertySymbols(e);for(r=0;r<o.length;r++)n=o[r],t.indexOf(n)>=0||Object.prototype.propertyIsEnumerable.call(e,n)&&(a[n]=e[n])}return a}function xt(e,t){var n=e.title,r=e.titleId,a=ft(e,bt);return o.createElement("svg",Ot({xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 129 129",xmlnsXlink:"http://www.w3.org/1999/xlink",enableBackground:"new 0 0 129 129",ref:t,"aria-labelledby":r},a),n?o.createElement("title",{id:r},n):null,ut||(ut=o.createElement("g",{fill:"currentColor"},o.createElement("path",{d:"M51.6,96.7c11,0,21-3.9,28.8-10.5l35,35c0.8,0.8,1.8,1.2,2.9,1.2s2.1-0.4,2.9-1.2c1.6-1.6,1.6-4.2,0-5.8l-35-35   c6.5-7.8,10.5-17.9,10.5-28.8c0-24.9-20.2-45.1-45.1-45.1C26.8,6.5,6.5,26.8,6.5,51.6C6.5,76.5,26.8,96.7,51.6,96.7z M51.6,14.7   c20.4,0,36.9,16.6,36.9,36.9C88.5,72,72,88.5,51.6,88.5c-20.4,0-36.9-16.6-36.9-36.9C14.7,31.3,31.3,14.7,51.6,14.7z"}))))}var ht=o.forwardRef(xt),jt=(n.p,Object(s.a)({root:{position:"relative",marginTop:24,display:"flex","@media(max-width:640px)":{margin:"24px 3rem 0px 3rem"}},inputFocus:{outline:"none",borderTopLeftRadius:10,borderBottomLeftRadius:10},input:{fontSize:18,borderTopLeftRadius:10,borderBottomLeftRadius:10,padding:"14px 10px 0px 8px",display:"block",width:"100%",color:A,height:56,boxSizing:"border-box",borderLeft:"1px solid #757575",borderTop:"1px solid #757575",borderBottom:"1px solid #757575",borderRight:"none","&:focus":{borderColor:_,borderWidth:2,extend:"inputFocus"},"&:focus ~ label":{top:4,left:10,fontSize:"0.8rem",color:"#4285f4"},"&:valid ~ label":{top:4,left:10,fontSize:"0.8rem"}},label:{color:"#999",fontSize:18,fontWeight:"normal",position:"absolute",pointerEvents:"none",left:10,top:17,transition:"0.2s ease all"},searchIcon:{cursor:"pointer",height:"1.8rem",width:"1.8rem",color:A,"&:hover":{color:_,height:"2rem",width:"2rem",transition:"0.2s ease all"}},closeIcon:{cursor:"pointer",height:"1.4rem",width:"1.4rem",color:A,"&:hover":{color:_}},inputAdornments:{borderRight:"1px solid #757575",borderTop:"1px solid #757575",borderBottom:"1px solid #757575",marginLeft:-2,display:"flex",borderTopRightRadius:10,borderBottomRightRadius:10},inputAdornmentsFocus:{borderRight:"2px solid ".concat(_),borderTop:"2px solid ".concat(_),borderBottom:"2px solid ".concat(_),marginLeft:-2,display:"flex",borderTopRightRadius:10,borderBottomRightRadius:10,borderColor:_},removeButtonStyle:{background:"none",color:"inherit",border:"none",padding:0,font:"inherit",cursor:"pointer",outline:"inherit",paddingRight:"0.8rem",paddingTop:"0.5rem"},searchButton:{extend:"removeButtonStyle"},closeButton:{extend:"removeButtonStyle"}}));function vt(e){var t=e.onSearch,n=e.label,r=e.inputType,a=void 0===r?"text":r,l=e.value,c=e.setInput,s=e.focusOnLoad,u=jt(),m=Object(o.useRef)(null),p=i.a.useState(!1),b=Object(d.a)(p,2),O=b[0],f=b[1];return Object(o.useEffect)((function(){s&&m.current&&m.current.focus()}),[s]),Object(x.jsxs)("div",{className:u.root,children:[Object(x.jsx)("input",{ref:m,"data-testid":"custom-input",onFocus:function(){return f(!0)},onBlur:function(){return f(!1)},type:"text",className:u.input,required:!0,value:l,onChange:function(e){if("number"===a){(""===e.target.value||/^[0-9\b]+$/.test(e.target.value))&&c(e.target.value)}else c(e.target.value)},onKeyDown:function(e){"Enter"===e.key&&t(l,e)}}),Object(x.jsx)("label",{htmlFor:n,className:u.label,children:n}),Object(x.jsxs)("div",{className:O?u.inputAdornmentsFocus:u.inputAdornments,children:[l&&Object(x.jsx)("button",{type:"button",className:u.closeButton,onClick:function(){return c("")},children:Object(x.jsx)(ct,{className:u.closeIcon})}),Object(x.jsxs)("button",{type:"button",className:u.searchButton,onClick:function(){return t(l)},"data-testid":"input-search-icon-button",children:[" ",Object(x.jsx)(ht,{className:u.searchIcon})]})]})]})}vt.defaultProps={inputType:"text",focusOnLoad:!0,label:""};var gt=Object(s.a)({root:{marginTop:24,width:"100%",maxWidth:570}});function Et(){var e=gt(),t=Object(o.useState)(""),n=Object(d.a)(t,2),r=n[0],a=n[1],i=Object(o.useState)(null),l=Object(d.a)(i,2),c=l[0],s=l[1],m=Object(o.useContext)(Q),p=m.dispatch,b=m.state,O=(b=void 0===b?{}:b).snackbar,f=(O=void 0===O?{}:O).value,h=void 0===f?"":f,j=O.text,v=void 0===j?"":j,g=b.translations,E=void 0===g?{}:g,S=Object(o.useState)(!1),T=Object(d.a)(S,2),w=T[0],R=T[1],N=Object(o.useState)(""),y=Object(d.a)(N,2),_=y[0],A=y[1],I=Object(o.useState)("initial"),C=Object(d.a)(I,2),P=C[0],D=C[1],L=Object(u.d)(),k=Object(d.a)(L,2),F=k[0],B=k[1];function H(e,t){return U.apply(this,arguments)}function U(){return(U=Object(M.a)(z.a.mark((function e(t,n){var a,o,i,l;return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:return R(!0),"on-search"===t&&s(null),D(t),e.next=5,W(n||_||r);case 5:a=e.sent,o=Object(d.a)(a,2),i=o[0],l=o[1],i&&s(i),l&&(D("error"),p("warning"===l?{type:"SET_SNACKBAR",value:"warning",text:"".concat(n||r," ").concat(E.NOT_VALID_STOP)}:{type:"SET_SNACKBAR",value:"error",text:E.SNACKBAR_STOP_ERROR})),R(!1);case 12:case"end":return e.stop()}}),e)})))).apply(this,arguments)}var G=function(){var e=Object(M.a)(z.a.mark((function e(t,n){return z.a.wrap((function(e){for(;;)switch(e.prev=e.next){case 0:if(A(""),n&&n.preventDefault(),t){e.next=4;break}return e.abrupt("return");case 4:B("/byStop/".concat(t));case 5:case"end":return e.stop()}}),e)})));return function(t,n){return e.apply(this,arguments)}}();return Object(o.useEffect)((function(){p({type:"SHOW_HEADER"});var e=function(e){var t=!1,n=e.split("/");-1!==e.indexOf("byStop")&&3===n.length&&/^\d+$/.test(n[2])&&(t=!0);return t&&(t=n.slice(2).join("/")),t}(F);e?(A(e),H("on-search",e)):(s(null),D("reset"))}),[p,F]),Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)(dt,{type:h,text:v}),Object(x.jsx)("form",{className:e.root,action:"",children:Object(x.jsx)(vt,{inputType:"number",label:E.ENTER_STOP_NUMBER,onSearch:G,value:r,setInput:function(e){return a(e)},focusOnLoad:!0})}),Object(x.jsx)(rt,{tableData:c,rowField:"departures",tableHeaderField:"stops",interval:P,getTableData:H,loader:w})]})}var St=Object(s.a)({root:{background:_,color:R,borderRadius:5,fontSize:"1rem",fontWeight:"bold",padding:"0px 16px",height:40,cursor:"pointer"}});function Tt(e){var t=e.text,n=e.click,r=St();return Object(x.jsx)("button",{type:"button",className:r.root,onClick:n,"data-testid":"custom-button",children:t})}Tt.defaultProps={text:""};var wt=Object(s.a)({root:{display:"flex",flexDirection:"column",alignItems:"center",justifyContent:"center",flexGrow:1},firstLine:{display:"flex",alignItems:"center"},icon:{height:40,width:40,paddingRight:8},notFound404:{fontSize:"3rem",paddingRight:20},buttonDiv:{padding:16},secondLine:{padding:12},thirdLine:{padding:12}});function Rt(){var e=wt(),t=Object(o.useContext)(Q),n=t.state,r=(n=void 0===n?{}:n).translations,a=void 0===r?{}:r,i=t.dispatch,l=Object(u.d)(),c=Object(d.a)(l,2),s=(c[0],c[1]);return Object(o.useEffect)((function(){i({type:"HIDE_HEADER"})}),[i]),Object(x.jsxs)("div",{className:e.root,children:[Object(x.jsxs)("div",{className:e.firstLine,children:[" ",Object(x.jsx)(H,{className:e.icon}),Object(x.jsx)("span",{className:e.notFound404,children:"404"})]}),Object(x.jsx)("div",{className:e.secondLine,children:a.PAGE_NOT_FOUND_1}),Object(x.jsx)("div",{className:e.thirdLine,children:a.PAGE_NOT_FOUND_2}),Object(x.jsx)("div",{className:e.buttonDiv,"data-testid":"go-home-button",children:Object(x.jsx)(Tt,{click:function(){return s("/")},text:a.GO_HOME})})]})}var Nt=Object(s.a)({root:{flexGrow:1,display:"flex",flexDirection:"column",alignItems:"center"},appHeaderText:{color:w}});function yt(){var e=Nt(),t=Object(u.d)(),n=Object(d.a)(t,2),r=n[0],a=n[1],i=Object(o.useContext)(Q).state,l=(i=void 0===i?{}:i).hideHeader,c=i.translations,s=void 0===c?{}:c;return Object(o.useEffect)((function(){"/"!==r&&"/next-trip-case-study"!==r&&"/next-trip-case-study/"!==r||a("/byRoute")}),[r,a]),Object(x.jsxs)("div",{className:e.root,children:[!l&&Object(x.jsxs)(x.Fragment,{children:[Object(x.jsx)("header",{children:Object(x.jsx)("h2",{className:e.appHeaderText,children:s.APP_HEADER})}),Object(x.jsx)(be,{options:D.NAVIGATION_OPTIONS})," "]}),Object(x.jsxs)(u.c,{children:[Object(x.jsx)(u.b,{path:"/byRoute",component:pt}),Object(x.jsx)(u.b,{path:"/byStop",component:Et}),Object(x.jsx)(u.b,{path:"/byRoute/:routeId/:directionId/:stopId",component:pt}),Object(x.jsx)(u.b,{path:"/byStop/:stopId",component:Et}),Object(x.jsx)(u.b,{children:Object(x.jsx)(Rt,{})})]})]})}var _t=Object(s.a)({root:{display:"flex",flexDirection:"column",height:"100vh"}});var At=function(){var e=_t();return Object(x.jsx)(Z,{children:Object(x.jsxs)("main",{className:e.root,children:[Object(x.jsx)(ce,{}),Object(x.jsx)(yt,{}),Object(x.jsx)(de,{})]})})};c.a.render(Object(x.jsx)(i.a.StrictMode,{children:Object(x.jsx)(At,{})}),document.getElementById("root"))}},[[35,1,2]]]);
//# sourceMappingURL=main.8927f4a2.chunk.js.map